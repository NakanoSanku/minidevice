{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to MiniDevice","text":"<p>\u2b50 star my  project.(~~\u7b97\u6211\u6c42\u4f60\u4e86~~)</p>"},{"location":"#installation","title":"Installation","text":"<pre><code>pip install minidevice\n</code></pre>"},{"location":"#project-structure","title":"Project Structure","text":"<ul> <li>MiniDevice<ul> <li>images</li> <li>device<ul> <li>screencap<ul> <li>Minicap</li> <li>ADBcap</li> <li>DroidCast</li> </ul> </li> <li>touch<ul> <li>Minitouch</li> <li>ADBtouch</li> </ul> </li> </ul> </li> </ul> </li> </ul>"},{"location":"#features","title":"Features","text":"\u529f\u80fd \u51fd\u6570 \u627e\u8272 Images.find_color \u627e\u8272(all) Images.find_all_colors \u591a\u70b9\u627e\u8272 Images.find_multi_colors \u627e\u56fe Images.find_image \u7279\u5f81\u5339\u914d Images.match_features <p>\u5177\u4f53\u4f7f\u7528\u53c2\u8003api\u6587\u6863\u5177\u4f53\u5185\u5bb9</p>"},{"location":"images/","title":"images","text":""},{"location":"images/#minidevice.images.Colors","title":"<code>Colors</code>","text":"Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\images.py</code> <pre><code>class Colors:\n    BLACK = \"#FF000000\"  # \u9ed1\u8272\n    DKGRAY = \"#FF444444\"  # \u6df1\u7070\u8272\n    GRAY = \"#FF888888\"  # \u7070\u8272\n    LTGRAY = \"#FFCCCCCC\"  # \u4eae\u7070\u8272\n    WHITE = \"#FFFFFFFF\"  # \u767d\u8272\n    RED = \"#FFFF0000\"  # \u7ea2\u8272\n    GREEN = \"#FF00FF00\"  # \u7eff\u8272\n    BLUE = \"#FF0000FF\"  # \u84dd\u8272\n    YELLOW = \"#FFFFFF00\"  # \u9ec4\u8272\n    CYAN = \"#FF00FFFF\"  # \u9752\u8272\n    MAGENTA = \"#FFFF00FF\"  # \u54c1\u7ea2\u8272\n    TRANSPARENT = \"#00000000\"  # \u900f\u660e\n\n    def to_string(color):\n\"\"\"\n        to_string 16\u8fdb\u5236\u8f6c\u989c\u8272\u503c\u7684\u5b57\u7b26\u4e32\n\n        Args:\n            color (int): 0xFF112233\n\n        Returns:\n            \u989c\u8272\u503c\u7684\u5b57\u7b26\u4e32 (str): \u683c\u5f0f\u4e3a \"#AARRGGBB\"\u3002\n        \"\"\"\n        # \u5c06\u6574\u6570RGB\u989c\u8272\u503c\u8f6c\u6362\u4e3a16\u8fdb\u5236\u5b57\u7b26\u4e32\n        hex_color = hex(color)[2:].upper().zfill(8)\n        # \u5c0616\u8fdb\u5236\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\"AARRGGBB\"\u683c\u5f0f\u7684\u5b57\u7b26\u4e32\n        a, r, g, b = [hex_color[i : i + 2] for i in range(0, 8, 2)]\n        return f\"#{a}{r}{g}{b}\"\n\n    def get_red(color):\n\"\"\"\n        get_red \u8fd4\u56de\u989c\u8272color\u7684R\u901a\u9053\u7684\u503c,\u8303\u56f40~255.\n\n        Args:\n            color (int): 0xFF112233\n\n        Returns:\n            \u989c\u8272color\u7684R\u901a\u9053\u7684\u503c (int): \u8303\u56f40~255.\n        \"\"\"\n        # \u53f3\u79fb24\u4f4d\u83b7\u53d6\u7ea2\u8272\u901a\u9053\u7684\u503c\n        red = (color &gt;&gt; 16) &amp; 0xFF\n        return red\n\n    def get_green(color):\n\"\"\"\n        get_green \u8fd4\u56de\u989c\u8272color\u7684g\u901a\u9053\u7684\u503c,\u8303\u56f40~255.\n\n        Args:\n            color (int): 0xFF112233\n\n        Returns:\n            \u989c\u8272color\u7684g\u901a\u9053\u7684\u503c (int): \u8303\u56f40~255.\n        \"\"\"\n        # \u53f3\u79fb24\u4f4d\u83b7\u53d6\u7eff\u8272\u901a\u9053\u7684\u503c\n        green = (color &gt;&gt; 8) &amp; 0xFF\n        return green\n\n    def get_blue(color):\n\"\"\"\n        get_blue \u8fd4\u56de\u989c\u8272color\u7684b\u901a\u9053\u7684\u503c,\u8303\u56f40~255.\n\n        Args:\n            color (int): 0xFF112233\n\n        Returns:\n            \u989c\u8272color\u7684b\u901a\u9053\u7684\u503c (int): \u8303\u56f40~255.\n        \"\"\"\n        # \u53f3\u79fb24\u4f4d\u83b7\u53d6\u84dd\u8272\u901a\u9053\u7684\u503c\n        blue = (color &gt;&gt; 0) &amp; 0xFF\n        return blue\n\n    def is_similar(color1, color2, threshold=4, algorithm=\"diff\"):\n\"\"\"\n        is_similar \u8fd4\u56de\u4e24\u4e2a\u989c\u8272\u662f\u5426\u76f8\u4f3c\n        Args:\n            color1 (int): 16\u8fdb\u5236\u989c\u8272\u503c\n            color2 (int): 16\u8fdb\u5236\u989c\u8272\u503c\n            threshold (int, optional): \u76f8\u4f3c\u5ea6. Defaults to 4.\n            algorithm (str, optional): \u6bd4\u8f83\u7b97\u6cd5. Defaults to 'diff'.\n                algorithm\u5305\u62ec:\n                    \"diff\": \u5dee\u503c\u5339\u914d\u3002\u4e0e\u7ed9\u5b9a\u989c\u8272\u7684R\u3001G\u3001B\u5dee\u7684\u7edd\u5bf9\u503c\u4e4b\u548c\u5c0f\u4e8ethreshold\u65f6\u5339\u914d\u3002\n                    \"rgb\": rgb\u6b27\u62c9\u8ddd\u79bb\u76f8\u4f3c\u5ea6\u3002\u4e0e\u7ed9\u5b9a\u989c\u8272color\u7684rgb\u6b27\u62c9\u8ddd\u79bb\u5c0f\u4e8e\u7b49\u4e8ethreshold\u65f6\u5339\u914d\u3002\n                    \"rgb+\": \u52a0\u6743rgb\u6b27\u62c9\u8ddd\u79bb\u5339\u914d(LAB Delta E)\u3002\n                    \"hs\": hs\u6b27\u62c9\u8ddd\u79bb\u5339\u914d\u3002hs\u4e3aHSV\u7a7a\u95f4\u7684\u8272\u8c03\u503c\u3002\n        - Returns:\n            (\u4e24\u4e2a\u989c\u8272\u662f\u5426\u76f8\u4f3c) bool: \n        \"\"\"\n        # \u5dee\u503c\u5339\u914d\u7b97\u6cd5\n        if algorithm == \"diff\":\n            r1 = (color1 &gt;&gt; 16) &amp; 0xFF\n            g1 = (color1 &gt;&gt; 8) &amp; 0xFF\n            b1 = color1 &amp; 0xFF\n            r2 = (color2 &gt;&gt; 16) &amp; 0xFF\n            g2 = (color2 &gt;&gt; 8) &amp; 0xFF\n            b2 = color2 &amp; 0xFF\n            diff = abs(r1 - r2) + abs(g1 - g2) + abs(b1 - b2)\n            return diff &lt;= threshold\n        # RGB\u6b27\u62c9\u8ddd\u79bb\u76f8\u4f3c\u5ea6\u7b97\u6cd5\n        elif algorithm == \"rgb\":\n            r1 = (color1 &gt;&gt; 16) &amp; 0xFF\n            g1 = (color1 &gt;&gt; 8) &amp; 0xFF\n            b1 = color1 &amp; 0xFF\n            r2 = (color2 &gt;&gt; 16) &amp; 0xFF\n            g2 = (color2 &gt;&gt; 8) &amp; 0xFF\n            b2 = color2 &amp; 0xFF\n            diff = math.sqrt(pow(r1 - r2, 2) + pow(g1 - g2, 2) + pow(b1 - b2, 2))\n            return diff &lt;= threshold\n        # \u52a0\u6743RGB\u6b27\u62c9\u8ddd\u79bb\u76f8\u4f3c\u5ea6\u7b97\u6cd5\n        elif algorithm == \"rgb+\":\n            lab1 = rgb2lab(color1)\n            lab2 = rgb2lab(color2)\n            diff = deltaE(lab1, lab2)\n            return diff &lt;= threshold\n        # HS\u6b27\u62c9\u8ddd\u79bb\u76f8\u4f3c\u5ea6\u7b97\u6cd5\n        elif algorithm == \"hs\":\n            hs1 = rgb2hs(color1)\n            hs2 = rgb2hs(color2)\n            diff = math.sqrt(pow(hs1[0] - hs2[0], 2) + pow(hs1[1] - hs2[1], 2))\n            return diff &lt;= threshold\n        else:\n            return False\n\n    def parse_color(color_str):\n\"\"\"\n        parse_color \u89e3\u6790\u989c\u8272\u503c\u4e3a16\u8fdb\u5236\n\n        Args:\n            color_str (str): \"#112233\"\n\n        Returns:\n            16\u8fdb\u5236\u989c\u8272\u503c (int): \n        \"\"\"\n        color_str = color_str.strip(\"#\")  # \u79fb\u9664\u5b57\u7b26\u4e32\u5f00\u5934\u7684 \"#\"\n        red = int(color_str[0:2], 16)  # \u63d0\u53d6\u7ea2\u8272\u5206\u91cf\u5e76\u8f6c\u6362\u4e3a\u6574\u6570\n        green = int(color_str[2:4], 16)  # \u63d0\u53d6\u7eff\u8272\u5206\u91cf\u5e76\u8f6c\u6362\u4e3a\u6574\u6570\n        blue = int(color_str[4:6], 16)  # \u63d0\u53d6\u84dd\u8272\u5206\u91cf\u5e76\u8f6c\u6362\u4e3a\u6574\u6570\n        color_value = (red &lt;&lt; 16) + (green &lt;&lt; 8) + blue  # \u5c06\u5206\u91cf\u7ec4\u5408\u4e3a\u6574\u6570\u503c\n        return color_value\n</code></pre>"},{"location":"images/#minidevice.images.Colors.get_blue","title":"<code>get_blue(color)</code>","text":"<p>get_blue \u8fd4\u56de\u989c\u8272color\u7684b\u901a\u9053\u7684\u503c,\u8303\u56f40~255.</p> <p>Parameters:</p> Name Type Description Default <code>color</code> <code>int</code> <p>0xFF112233</p> required <p>Returns:</p> Name Type Description <code>\u989c\u8272color\u7684b\u901a\u9053\u7684\u503c</code> <code>int</code> <p>\u8303\u56f40~255.</p> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\images.py</code> <pre><code>def get_blue(color):\n\"\"\"\n    get_blue \u8fd4\u56de\u989c\u8272color\u7684b\u901a\u9053\u7684\u503c,\u8303\u56f40~255.\n\n    Args:\n        color (int): 0xFF112233\n\n    Returns:\n        \u989c\u8272color\u7684b\u901a\u9053\u7684\u503c (int): \u8303\u56f40~255.\n    \"\"\"\n    # \u53f3\u79fb24\u4f4d\u83b7\u53d6\u84dd\u8272\u901a\u9053\u7684\u503c\n    blue = (color &gt;&gt; 0) &amp; 0xFF\n    return blue\n</code></pre>"},{"location":"images/#minidevice.images.Colors.get_green","title":"<code>get_green(color)</code>","text":"<p>get_green \u8fd4\u56de\u989c\u8272color\u7684g\u901a\u9053\u7684\u503c,\u8303\u56f40~255.</p> <p>Parameters:</p> Name Type Description Default <code>color</code> <code>int</code> <p>0xFF112233</p> required <p>Returns:</p> Name Type Description <code>\u989c\u8272color\u7684g\u901a\u9053\u7684\u503c</code> <code>int</code> <p>\u8303\u56f40~255.</p> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\images.py</code> <pre><code>def get_green(color):\n\"\"\"\n    get_green \u8fd4\u56de\u989c\u8272color\u7684g\u901a\u9053\u7684\u503c,\u8303\u56f40~255.\n\n    Args:\n        color (int): 0xFF112233\n\n    Returns:\n        \u989c\u8272color\u7684g\u901a\u9053\u7684\u503c (int): \u8303\u56f40~255.\n    \"\"\"\n    # \u53f3\u79fb24\u4f4d\u83b7\u53d6\u7eff\u8272\u901a\u9053\u7684\u503c\n    green = (color &gt;&gt; 8) &amp; 0xFF\n    return green\n</code></pre>"},{"location":"images/#minidevice.images.Colors.get_red","title":"<code>get_red(color)</code>","text":"<p>get_red \u8fd4\u56de\u989c\u8272color\u7684R\u901a\u9053\u7684\u503c,\u8303\u56f40~255.</p> <p>Parameters:</p> Name Type Description Default <code>color</code> <code>int</code> <p>0xFF112233</p> required <p>Returns:</p> Name Type Description <code>\u989c\u8272color\u7684R\u901a\u9053\u7684\u503c</code> <code>int</code> <p>\u8303\u56f40~255.</p> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\images.py</code> <pre><code>def get_red(color):\n\"\"\"\n    get_red \u8fd4\u56de\u989c\u8272color\u7684R\u901a\u9053\u7684\u503c,\u8303\u56f40~255.\n\n    Args:\n        color (int): 0xFF112233\n\n    Returns:\n        \u989c\u8272color\u7684R\u901a\u9053\u7684\u503c (int): \u8303\u56f40~255.\n    \"\"\"\n    # \u53f3\u79fb24\u4f4d\u83b7\u53d6\u7ea2\u8272\u901a\u9053\u7684\u503c\n    red = (color &gt;&gt; 16) &amp; 0xFF\n    return red\n</code></pre>"},{"location":"images/#minidevice.images.Colors.is_similar","title":"<code>is_similar(color1, color2, threshold=4, algorithm='diff')</code>","text":"<p>is_similar \u8fd4\u56de\u4e24\u4e2a\u989c\u8272\u662f\u5426\u76f8\u4f3c</p> <p>Parameters:</p> Name Type Description Default <code>color1</code> <code>int</code> <p>16\u8fdb\u5236\u989c\u8272\u503c</p> required <code>color2</code> <code>int</code> <p>16\u8fdb\u5236\u989c\u8272\u503c</p> required <code>threshold</code> <code>int</code> <p>\u76f8\u4f3c\u5ea6. Defaults to 4.</p> <code>4</code> <code>algorithm</code> <code>str</code> <p>\u6bd4\u8f83\u7b97\u6cd5. Defaults to 'diff'. algorithm\u5305\u62ec:     \"diff\": \u5dee\u503c\u5339\u914d\u3002\u4e0e\u7ed9\u5b9a\u989c\u8272\u7684R\u3001G\u3001B\u5dee\u7684\u7edd\u5bf9\u503c\u4e4b\u548c\u5c0f\u4e8ethreshold\u65f6\u5339\u914d\u3002     \"rgb\": rgb\u6b27\u62c9\u8ddd\u79bb\u76f8\u4f3c\u5ea6\u3002\u4e0e\u7ed9\u5b9a\u989c\u8272color\u7684rgb\u6b27\u62c9\u8ddd\u79bb\u5c0f\u4e8e\u7b49\u4e8ethreshold\u65f6\u5339\u914d\u3002     \"rgb+\": \u52a0\u6743rgb\u6b27\u62c9\u8ddd\u79bb\u5339\u914d(LAB Delta E)\u3002     \"hs\": hs\u6b27\u62c9\u8ddd\u79bb\u5339\u914d\u3002hs\u4e3aHSV\u7a7a\u95f4\u7684\u8272\u8c03\u503c\u3002</p> <code>'diff'</code> <ul> <li>Returns:     (\u4e24\u4e2a\u989c\u8272\u662f\u5426\u76f8\u4f3c) bool:</li> </ul> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\images.py</code> <pre><code>def is_similar(color1, color2, threshold=4, algorithm=\"diff\"):\n\"\"\"\n    is_similar \u8fd4\u56de\u4e24\u4e2a\u989c\u8272\u662f\u5426\u76f8\u4f3c\n    Args:\n        color1 (int): 16\u8fdb\u5236\u989c\u8272\u503c\n        color2 (int): 16\u8fdb\u5236\u989c\u8272\u503c\n        threshold (int, optional): \u76f8\u4f3c\u5ea6. Defaults to 4.\n        algorithm (str, optional): \u6bd4\u8f83\u7b97\u6cd5. Defaults to 'diff'.\n            algorithm\u5305\u62ec:\n                \"diff\": \u5dee\u503c\u5339\u914d\u3002\u4e0e\u7ed9\u5b9a\u989c\u8272\u7684R\u3001G\u3001B\u5dee\u7684\u7edd\u5bf9\u503c\u4e4b\u548c\u5c0f\u4e8ethreshold\u65f6\u5339\u914d\u3002\n                \"rgb\": rgb\u6b27\u62c9\u8ddd\u79bb\u76f8\u4f3c\u5ea6\u3002\u4e0e\u7ed9\u5b9a\u989c\u8272color\u7684rgb\u6b27\u62c9\u8ddd\u79bb\u5c0f\u4e8e\u7b49\u4e8ethreshold\u65f6\u5339\u914d\u3002\n                \"rgb+\": \u52a0\u6743rgb\u6b27\u62c9\u8ddd\u79bb\u5339\u914d(LAB Delta E)\u3002\n                \"hs\": hs\u6b27\u62c9\u8ddd\u79bb\u5339\u914d\u3002hs\u4e3aHSV\u7a7a\u95f4\u7684\u8272\u8c03\u503c\u3002\n    - Returns:\n        (\u4e24\u4e2a\u989c\u8272\u662f\u5426\u76f8\u4f3c) bool: \n    \"\"\"\n    # \u5dee\u503c\u5339\u914d\u7b97\u6cd5\n    if algorithm == \"diff\":\n        r1 = (color1 &gt;&gt; 16) &amp; 0xFF\n        g1 = (color1 &gt;&gt; 8) &amp; 0xFF\n        b1 = color1 &amp; 0xFF\n        r2 = (color2 &gt;&gt; 16) &amp; 0xFF\n        g2 = (color2 &gt;&gt; 8) &amp; 0xFF\n        b2 = color2 &amp; 0xFF\n        diff = abs(r1 - r2) + abs(g1 - g2) + abs(b1 - b2)\n        return diff &lt;= threshold\n    # RGB\u6b27\u62c9\u8ddd\u79bb\u76f8\u4f3c\u5ea6\u7b97\u6cd5\n    elif algorithm == \"rgb\":\n        r1 = (color1 &gt;&gt; 16) &amp; 0xFF\n        g1 = (color1 &gt;&gt; 8) &amp; 0xFF\n        b1 = color1 &amp; 0xFF\n        r2 = (color2 &gt;&gt; 16) &amp; 0xFF\n        g2 = (color2 &gt;&gt; 8) &amp; 0xFF\n        b2 = color2 &amp; 0xFF\n        diff = math.sqrt(pow(r1 - r2, 2) + pow(g1 - g2, 2) + pow(b1 - b2, 2))\n        return diff &lt;= threshold\n    # \u52a0\u6743RGB\u6b27\u62c9\u8ddd\u79bb\u76f8\u4f3c\u5ea6\u7b97\u6cd5\n    elif algorithm == \"rgb+\":\n        lab1 = rgb2lab(color1)\n        lab2 = rgb2lab(color2)\n        diff = deltaE(lab1, lab2)\n        return diff &lt;= threshold\n    # HS\u6b27\u62c9\u8ddd\u79bb\u76f8\u4f3c\u5ea6\u7b97\u6cd5\n    elif algorithm == \"hs\":\n        hs1 = rgb2hs(color1)\n        hs2 = rgb2hs(color2)\n        diff = math.sqrt(pow(hs1[0] - hs2[0], 2) + pow(hs1[1] - hs2[1], 2))\n        return diff &lt;= threshold\n    else:\n        return False\n</code></pre>"},{"location":"images/#minidevice.images.Colors.parse_color","title":"<code>parse_color(color_str)</code>","text":"<p>parse_color \u89e3\u6790\u989c\u8272\u503c\u4e3a16\u8fdb\u5236</p> <p>Parameters:</p> Name Type Description Default <code>color_str</code> <code>str</code> <p>\"#112233\"</p> required <p>Returns:</p> Name Type Description <code>16\u8fdb\u5236\u989c\u8272\u503c</code> <code>int</code> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\images.py</code> <pre><code>def parse_color(color_str):\n\"\"\"\n    parse_color \u89e3\u6790\u989c\u8272\u503c\u4e3a16\u8fdb\u5236\n\n    Args:\n        color_str (str): \"#112233\"\n\n    Returns:\n        16\u8fdb\u5236\u989c\u8272\u503c (int): \n    \"\"\"\n    color_str = color_str.strip(\"#\")  # \u79fb\u9664\u5b57\u7b26\u4e32\u5f00\u5934\u7684 \"#\"\n    red = int(color_str[0:2], 16)  # \u63d0\u53d6\u7ea2\u8272\u5206\u91cf\u5e76\u8f6c\u6362\u4e3a\u6574\u6570\n    green = int(color_str[2:4], 16)  # \u63d0\u53d6\u7eff\u8272\u5206\u91cf\u5e76\u8f6c\u6362\u4e3a\u6574\u6570\n    blue = int(color_str[4:6], 16)  # \u63d0\u53d6\u84dd\u8272\u5206\u91cf\u5e76\u8f6c\u6362\u4e3a\u6574\u6570\n    color_value = (red &lt;&lt; 16) + (green &lt;&lt; 8) + blue  # \u5c06\u5206\u91cf\u7ec4\u5408\u4e3a\u6574\u6570\u503c\n    return color_value\n</code></pre>"},{"location":"images/#minidevice.images.Colors.to_string","title":"<code>to_string(color)</code>","text":"<p>to_string 16\u8fdb\u5236\u8f6c\u989c\u8272\u503c\u7684\u5b57\u7b26\u4e32</p> <p>Parameters:</p> Name Type Description Default <code>color</code> <code>int</code> <p>0xFF112233</p> required <p>Returns:</p> Name Type Description <code>\u989c\u8272\u503c\u7684\u5b57\u7b26\u4e32</code> <code>str</code> <p>\u683c\u5f0f\u4e3a \"#AARRGGBB\"\u3002</p> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\images.py</code> <pre><code>def to_string(color):\n\"\"\"\n    to_string 16\u8fdb\u5236\u8f6c\u989c\u8272\u503c\u7684\u5b57\u7b26\u4e32\n\n    Args:\n        color (int): 0xFF112233\n\n    Returns:\n        \u989c\u8272\u503c\u7684\u5b57\u7b26\u4e32 (str): \u683c\u5f0f\u4e3a \"#AARRGGBB\"\u3002\n    \"\"\"\n    # \u5c06\u6574\u6570RGB\u989c\u8272\u503c\u8f6c\u6362\u4e3a16\u8fdb\u5236\u5b57\u7b26\u4e32\n    hex_color = hex(color)[2:].upper().zfill(8)\n    # \u5c0616\u8fdb\u5236\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\"AARRGGBB\"\u683c\u5f0f\u7684\u5b57\u7b26\u4e32\n    a, r, g, b = [hex_color[i : i + 2] for i in range(0, 8, 2)]\n    return f\"#{a}{r}{g}{b}\"\n</code></pre>"},{"location":"images/#minidevice.images.Images","title":"<code>Images</code>","text":"Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\images.py</code> <pre><code>class Images:\n    def read(path, flag=cv2.IMREAD_COLOR):\n\"\"\"\n        read \u8bfb\u53d6\u56fe\u50cf\n\n        Args:\n            path (str): \u56fe\u50cf\u8def\u5f84\n            flag (int) :\n                - cv2.IMREAD_COLOR (\u9ed8\u8ba4)\n                - cv2.IMREAD_GRAYSCALE\n\n        Returns:\n            opencv\u683c\u5f0f\u56fe\u50cf (np.array): \n        \"\"\"\n        return cv2.imread(path, flags=flag)\n\n    def load(path):\n\"\"\"\n        load \u52a0\u8f7d\u7f51\u7edc\u56fe\u7247\n\n        Args:\n            path (str): \u56fe\u50cf\u8def\u5f84\n\n        Returns:\n            opencv\u683c\u5f0f\u56fe\u50cf (np.array): \n        \"\"\"\n\n        # \u4e0b\u8f7d\u56fe\u7247\u6570\u636e\n        response = urllib.request.urlopen(path)\n        image_data = response.read()\n        return raw2opencv(image_data)\n\n    def show(img, title=\"\"):\n\"\"\"\n        show \u663e\u793a\u56fe\u50cf\n\n        Args:\n            img (mat): opencv\u683c\u5f0f\u56fe\u50cf\n            title (str, optional): \u663e\u793a\u7684\u6807\u9898. Defaults to \"\".\n        \"\"\"\n        cv2.imshow(title, img)\n        cv2.waitKey()\n\n    def save(img, path=\"save.png\"):\n\"\"\"\n        save \u4fdd\u5b58\u56fe\u50cf\u5230\u8def\u5f84\n\n        Args:\n            path (str): \u8def\u5f84\n            img (mat): opencv\u683c\u5f0f\u56fe\u50cf \u9ed8\u8ba4\u4fdd\u5b58\u5230\u5f53\u524d\u8def\u5f84\u4e0bsave.png\n        \"\"\"\n        cv2.imwrite(path, img)\n\n    def pixel(img, x, y):\n\"\"\"\n        pixel \u8fd4\u56de\u56fe\u7247image\u5728\u70b9(x, y)\u5904\u7684\u50cf\u7d20\u7684RGB\u503c\u3002\n\n        Args:\n            img (Mat): opencv\u56fe\u50cf\n            x (int): \u6a2a\u5750\u6807\n            y (int): \u7eb5\u5750\u6807\n\n        Returns:\n            \u5750\u6807\u989c\u8272\u503c (str): \n        \"\"\"\n        b, g, r = img[y, x]\n        return \"#{:02x}{:02x}{:02x}\".format(r, g, b)\n\n    def find_color(img, color, region=None, threshold=4):\n\"\"\"\n        find_color \u627e\u8272\u529f\u80fd\n\n        Args:\n            img (mat): opencv\u683c\u5f0f\u56fe\u50cf\n            color (str): \u989c\u8272\u503c\u5b57\u7b26\u4e32\n            region (list, optional): [xmin,ymin,xmax,ymax]. Defaults to None.\n            threshold (int, optional): \u989c\u8272\u76f8\u4f3c\u5ea6. Defaults to 4.\n\n        Returns:\n            x (int): \n            y (int): \n        \"\"\"\n        x_min, y_min, x_max, y_max = region or (0, 0, img.shape[1], img.shape[0])\n        img = img[y_min:y_max, x_min:x_max]\n        # \u5c06\u989c\u8272\u503c\u8f6c\u6362\u4e3a RGB \u5206\u91cf\u503c\n        r, g, b = np.array([int(color[i : i + 2], 16) for i in (1, 3, 5)])\n        # \u8ba1\u7b97\u989c\u8272\u5dee\n        diff = np.abs(img - [b, g, r])\n        # \u5224\u65ad\u989c\u8272\u662f\u5426\u5339\u914d\n        match = np.logical_and.reduce(diff &lt;= threshold, axis=2)\n        # \u83b7\u53d6\u5339\u914d\u50cf\u7d20\u70b9\u7684\u5750\u6807\n        y, x = np.where(match)\n        return None if len(x) == 0 else x[0] + x_min, y[0] + y_min\n\n    def find_all_color(img, color, region=None, threshold=4):\n\"\"\"\n        find_all_color \u627e\u5230\u5168\u56fe\u4e2d\u6240\u6709\u7b26\u5408\u8981\u6c42\u7684\u50cf\u7d20\u70b9\n\n        Args:\n            img (mat): opencv\u683c\u5f0f\u56fe\u50cf\n            color (str): \u989c\u8272\u503c\u5b57\u7b26\u4e32\n            region (list, optional): [xmin,ymin,xmax,ymax]. Defaults to None.\n            threshold (int, optional): \u989c\u8272\u76f8\u4f3c\u5ea6. Defaults to 4.\n\n        Returns:\n            \u989c\u8272\u503c\u6240\u6709\u70b9 (list): [(x,y),(x,y),(x,y)]\n        \"\"\"\n        x_min, y_min, x_max, y_max = region or (0, 0, img.shape[1], img.shape[0])\n        img = img[y_min:y_max, x_min:x_max]\n        # \u5c06\u989c\u8272\u503c\u8f6c\u6362\u4e3a RGB \u5206\u91cf\u503c\n        r, g, b = np.array([int(color[i : i + 2], 16) for i in (1, 3, 5)])\n        # \u8ba1\u7b97\u989c\u8272\u5dee\n        diff = np.abs(img - [b, g, r])\n        # \u5224\u65ad\u989c\u8272\u662f\u5426\u5339\u914d\n        match = np.logical_and.reduce(diff &lt;= threshold, axis=2)\n        # \u83b7\u53d6\u5339\u914d\u50cf\u7d20\u70b9\u7684\u5750\u6807\n        y, x = np.where(match)\n        return (\n            None\n            if len(x) == 0\n            else [(x[i] + x_min, y[i] + y_min) for i in range(len(x))]\n        )\n\n    def find_multi_colors(img, first_color, colors, region=None, threshold=4):\n\"\"\"\n        find_multi_colors \u591a\u70b9\u627e\u8272\n\n        Args:\n            img (mat): opencv\u683c\u5f0f\u56fe\u50cf\n            first_color (str): \u7b2c\u4e00\u4e2a\u56fe\u50cf\u7684\u989c\u8272\u503c\n            colors (list): [(x,y,color),(x,y,color)] x\u4e3a\u76f8\u5bf9\u7b2c\u4e00\u4e2a\u70b9\u504f\u79fb\u7684\u5750\u6807\u503c,color\u4e3a\u989c\u8272\u503c\"#112233\"\n            region (list, optional): \u8303\u56f4\u6570\u7ec4[xmin,ymin,xmax,ymax]. Defaults to None.\n            threshold (int, optional): \u76f8\u4f3c\u5ea6. Defaults to 4.\n\n        Returns:\n            x (int): \u7b2c\u4e00\u4e2a\u70b9\u7684\u6a2a\u5750\u6807\n            y (int): \u7b2c\u4e00\u4e2a\u70b9\u7684\u7eb5\u5750\u6807\n\n        \"\"\"\n        first_color_points = Images.find_all_color(\n            img, first_color, region=region, threshold=threshold\n        )\n        if first_color_points is None:\n            return None\n        for x0, y0 in first_color_points:\n            for x, y, target_color in colors:\n                if not Colors.is_similar(\n                    Colors.parse_color(target_color),\n                    Colors.parse_color(Images.pixel(img, x + x0, y + y0)),\n                    threshold=threshold,\n                ):\n                    break\n            return x0, y0\n        return None\n\n    def find_image(img, template, threshold=0.8, region=None, level=3, debug=False):\n\"\"\"\n        find_image \u6a21\u677f\u5339\u914d\n\n        Args:\n            img (mat): opencv\u683c\u5f0f\u56fe\u50cf\n            template (mat): opencv\u683c\u5f0f\u56fe\u50cf\n            threshold (float, optional): \u5339\u914d\u5ea6. Defaults to 0.8.\n            region (list, optional): \u8303\u56f4[xmin,ymin,xmax,ymax]. Defaults to None. \u50cf\u7d20\u6570\u91cf\u4e0e\u67e5\u627e\u6548\u7387\u51e0\u4e4e\u6210\u6b63\u6bd4\n            level (int, optional): \u56fe\u50cf\u91d1\u5b57\u5854\u7b49\u7ea7. Defaults to 3. \u5168\u5c4f1080x2400\u67e5\u627e\u60c5\u51b5\u4e0blevel3\u6548\u7387\u662flevel2\u76845\u500d,\u662flevel1\u768410\u500d,\u5206\u8fa8\u7387\u8d8a\u4f4e\u63d0\u5347\u8d8a\u4e0d\u660e\u663e\n            debug (bool,optional): \u8c03\u8bd5\u6a21\u5f0f(\u65b9\u6846\u7ed8\u5236\u5e76\u663e\u793a) Defaults to False.\n        Returns:\n            max_loc (list): xmin,ymin,xmax,ymax\n        \"\"\"\n        # \u8bbe\u7f6e\u67e5\u627e\u533a\u57df\n        x_min, y_min, x_max, y_max = region or (0, 0, img.shape[1], img.shape[0])\n        img = img[y_min:y_max, x_min:x_max]\n\n        img_array = [img]\n        template_array = [template]\n\n        for i in range(1, level):\n            img = cv2.pyrDown(img)\n            template = cv2.pyrDown(template)\n            img_array.append(img)\n            template_array.append(template)\n\n        for i, img_level, template_level in list(\n            zip(range(level), img_array, template_array)\n        )[::-1]:\n            # \u5339\u914d\u6a21\u677f\u56fe\u50cf\n            res = cv2.matchTemplate(img_level, template_level, cv2.TM_CCOEFF_NORMED)\n            # \u9009\u62e9\u76f8\u4f3c\u5ea6\u6700\u9ad8\u7684\u4e00\u4e2a\u7ed3\u679c\n            min_val, max_val, min_loc, max_loc = cv2.minMaxLoc(res)\n            if max_val &gt; threshold:\n                # \u8f6c\u6362\u5750\u6807\u7cfb\n                max_loc = (max_loc[0] * (2**i), max_loc[1] * (2**i))\n                if region is not None:\n                    max_loc = (max_loc[0] + x_min, max_loc[1] + y_min)\n                if debug:\n                    copy = img_array[0].copy()\n                    cv2.rectangle(\n                        copy,\n                        [\n                            max_loc[0],\n                            max_loc[1],\n                            template_array[0].shape[1],\n                            template_array[0].shape[0],\n                        ],\n                        (0, 255, 0),\n                        2,\n                    )\n                    Images.save(copy)\n                return [\n                    max_loc[0],\n                    max_loc[1],\n                    max_loc[0] + template_array[0].shape[1],\n                    max_loc[1] + template_array[0].shape[0],\n                ]\n        return None\n\n    def detect_and_compute_features(\n        img, grayscale=True, method=\"SIFT\", region=None, scale=1\n    ):\n\"\"\"\n        detect_and_compute_features \u8ba1\u7b97\u7279\u5f81\u70b9\u548c\u63cf\u8ff0\u503c\n\n        Args:\n            img (mat): opencv\u683c\u5f0f\u56fe\u50cf\n            grayscale (bool, optional): \u662f\u5426\u7070\u5ea6\u5316\u56fe\u50cf. Defaults to True.\n            method (str, optional): \u7279\u5f81\u70b9\u8ba1\u7b97\u65b9\u6cd5. Defaults to 'SIFT'.\n            region (list, optional): \u7279\u5f81\u70b9\u8ba1\u7b97\u8303\u56f4[x_min, y_min, x_max, y_max]. Defaults to None.\n            scale (int, optional): \u56fe\u50cf\u7f29\u653e. Defaults to '1'. \u5206\u8fa8\u7387\u8f83\u5927\u65f6,\u8ba1\u7b97\u6548\u7387\u4e0e\u8fd9\u4e2a\u6210\u6b63\u6bd4\n\n        Raises:\n            ValueError: \"Invalid feature detection method\"\n\n        Returns:\n            \u7279\u5f81\u70b9 (keypoints): \n            \u63cf\u8ff0\u503c (descriptors): \n        \"\"\"\n        # \u8f6c\u6362\u4e3a\u7070\u5ea6\u56fe\u50cf\n        if grayscale:\n            if len(img.shape) == 3:\n                img = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\n\n        # \u9009\u62e9\u7279\u5f81\u8ba1\u7b97\u65b9\u6cd5\n        if method == \"SIFT\":\n            feature_detector = cv2.SIFT_create()\n        elif method == \"ORB\":\n            feature_detector = cv2.ORB_create()\n        else:\n            raise ValueError(\"Invalid feature detection method\")\n\n        x_min, y_min, x_max, y_max = region or (0, 0, img.shape[1], img.shape[0])\n        img = img[y_min:y_max, x_min:x_max]\n        img_new = cv2.resize(img, None, fx=scale, fy=scale)\n        keypoints = feature_detector.detect(img_new)\n\n        # \u8c03\u6574\u5173\u952e\u70b9\u5750\u6807\n        for kp in keypoints:\n            kp.pt = ((kp.pt[0]) * (1 / scale), (kp.pt[1]) * (1 / scale))\n\n        _, descriptors = feature_detector.compute(img, keypoints)\n        # img = cv2.drawKeypoints(img,keypoints,img)\n        # Images.save(f\"{random.randint(8,100)}.png\",img)\n        # \u8fd4\u56de\u7279\u5f81\u4fe1\u606f\n        return keypoints, descriptors\n\n    def match_features(\n        img,\n        template,\n        region=None,\n        threshold=0.75,\n        method=\"FLANNBASED\",\n        scale=1,\n        debug=False,\n    ):\n\"\"\"\n        match_features \u7279\u5f81\u5339\u914d\n        (\u8ba1\u7b97\u5c0f\u56fe\u82b1\u8d39\u4e0d\u4e86\u591a\u5c11\u8d44\u6e90,\u91cd\u8981\u7684\u662f\u8ba1\u7b97\u5927\u56fe\u7279,\u6240\u4ee5\u8bf7\u52a1\u5fc5\u533a\u57df\u7279\u5f81\u8ba1\u7b97)\n        \u7531\u4e8eorb\u6548\u679c\u4e0d\u5c3d\u4eba\u610f,\u53ea\u91c7\u7528sift\u8ba1\u7b97\u7279\u5f81\n        \u8ba1\u7b972400x1080\u7684\u5927\u56fe\u6d88\u80170.6s 500x1080\u7684\u56fe\u6d88\u80170.1s\n\n        Args:\n            img (mat): opencv\u683c\u5f0f\u56fe\u50cf \u5927\u56fe\n            template (mat): opencv\u683c\u5f0f\u56fe\u50cf \u5c0f\u56fe\n            region (list, optional): \u5927\u56fe\u7279\u5f81\u8303\u56f4[x_min, y_min, x_max, y_max ]. Defaults to None.\n            threshold (float, optional): \u76f8\u4f3c\u5ea6. Defaults to 0.75.\n            method (str, optional): \u7279\u5f81\u5339\u914d\u7b97\u6cd5. Defaults to \"FLANNBASED\".\u5176\u4ed6\u53ef\u9009\"BRUTEFORCE\",\"BRUTEFORCE_L1\"\n            scale (int, optional): \u56fe\u50cf\u7f29\u653e. Defaults to '1'. \u5206\u8fa8\u7387\u8f83\u5927\u65f6,\u8ba1\u7b97\u6548\u7387\u4e0e\u8fd9\u4e2a\u6210\u6b63\u6bd4\n            debug (bool,optional): \u8c03\u8bd5\u6a21\u5f0f(\u65b9\u6846\u7ed8\u5236\u5e76\u663e\u793a) Defaults to False.\n\n        Raises:\n            ValueError: \u7b97\u6cd5\u4e0d\u5b58\u5728\n\n        Returns:\n            \u5c0f\u56fe\u5728\u5927\u56fe\u4e2d\u7684\u8303\u56f4 (list): [xmin,ymin,xmax,ymax]\n        \"\"\"\n        # \u8ba1\u7b97\u5173\u952e\u70b9\u548c\u63cf\u8ff0\u7b26\n        kp_template, des_template = Images.detect_and_compute_features(\n            template, scale=scale\n        )\n        kp_target, des_target = Images.detect_and_compute_features(\n            img, region=region, scale=scale\n        )\n\n        if method == \"FLANNBASED\":\n            matcher = cv2.FlannBasedMatcher()\n        elif method == \"BRUTEFORCE_L1\":\n            matcher = cv2.BFMatcher(cv2.NORM_L1)\n        elif method == \"BRUTEFORCE\":\n            matcher = cv2.BFMatcher(cv2.NORM_L2)\n        else:\n            raise ValueError(\"Invalid matching method provided.\")\n\n        matches = matcher.knnMatch(des_template, des_target, k=2)\n\n        # \u5e94\u7528Lowe\u7684\u6bd4\u4f8b\u6d4b\u8bd5\n        good_matches = []\n        for m, n in matches:\n            if m.distance &lt; threshold * n.distance:\n                good_matches.append(m)\n\n        # \u5982\u679c\u627e\u5230\u8db3\u591f\u7684\u597d\u5339\u914d\uff0c\u5219\u8ba1\u7b97\u5355\u5e94\u6027\u77e9\u9635\n        if len(good_matches) &gt; 10:\n            src_pts = np.float32(\n                [kp_template[m.queryIdx].pt for m in good_matches]\n            ).reshape(-1, 1, 2)\n            dst_pts = np.float32(\n                [kp_target[m.trainIdx].pt for m in good_matches]\n            ).reshape(-1, 1, 2)\n\n            # \u8ba1\u7b97\u5355\u5e94\u6027\u77e9\u9635\n            M, mask = cv2.findHomography(src_pts, dst_pts, cv2.RANSAC, 5.0)\n\n            # \u5c06\u6a21\u677f\u56fe\u50cf\u7684\u89d2\u70b9\u6620\u5c04\u5230\u76ee\u6807\u56fe\u50cf\u4e2d\u7684\u76f8\u5e94\u4f4d\u7f6e\n            h, w = template.shape[:2]\n            pts = np.float32([[0, 0], [0, h - 1], [w - 1, h - 1], [w - 1, 0]]).reshape(\n                -1, 1, 2\n            )\n            dst = cv2.perspectiveTransform(pts, M)\n\n            x_min, y_min, _, _ = region or (0, 0, img.shape[1], img.shape[0])\n            # \u8ba1\u7b97\u77e9\u5f62\u533a\u57df\u5750\u6807\n            x, y, w, h = cv2.boundingRect(dst)\n            if debug:\n                copy = img.copy()\n                cv2.rectangle(copy, [x + x_min, y + y_min, w, h], (0, 255, 0), 2)\n                Images.save(copy)\n            return [x + x_min, y + y_min, w + x + x_min, h + y + y_min]\n\n        else:\n            print(\"Not enough matches are found - {}/{}\".format(len(good_matches), 10))\n            return None\n</code></pre>"},{"location":"images/#minidevice.images.Images.detect_and_compute_features","title":"<code>detect_and_compute_features(img, grayscale=True, method='SIFT', region=None, scale=1)</code>","text":"<p>detect_and_compute_features \u8ba1\u7b97\u7279\u5f81\u70b9\u548c\u63cf\u8ff0\u503c</p> <p>Parameters:</p> Name Type Description Default <code>img</code> <code>mat</code> <p>opencv\u683c\u5f0f\u56fe\u50cf</p> required <code>grayscale</code> <code>bool</code> <p>\u662f\u5426\u7070\u5ea6\u5316\u56fe\u50cf. Defaults to True.</p> <code>True</code> <code>method</code> <code>str</code> <p>\u7279\u5f81\u70b9\u8ba1\u7b97\u65b9\u6cd5. Defaults to 'SIFT'.</p> <code>'SIFT'</code> <code>region</code> <code>list</code> <p>\u7279\u5f81\u70b9\u8ba1\u7b97\u8303\u56f4[x_min, y_min, x_max, y_max]. Defaults to None.</p> <code>None</code> <code>scale</code> <code>int</code> <p>\u56fe\u50cf\u7f29\u653e. Defaults to '1'. \u5206\u8fa8\u7387\u8f83\u5927\u65f6,\u8ba1\u7b97\u6548\u7387\u4e0e\u8fd9\u4e2a\u6210\u6b63\u6bd4</p> <code>1</code> <p>Raises:</p> Type Description <code>ValueError</code> <p>\"Invalid feature detection method\"</p> <p>Returns:</p> Name Type Description <code>\u7279\u5f81\u70b9</code> <code>keypoints</code> <code>\u63cf\u8ff0\u503c</code> <code>descriptors</code> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\images.py</code> <pre><code>def detect_and_compute_features(\n    img, grayscale=True, method=\"SIFT\", region=None, scale=1\n):\n\"\"\"\n    detect_and_compute_features \u8ba1\u7b97\u7279\u5f81\u70b9\u548c\u63cf\u8ff0\u503c\n\n    Args:\n        img (mat): opencv\u683c\u5f0f\u56fe\u50cf\n        grayscale (bool, optional): \u662f\u5426\u7070\u5ea6\u5316\u56fe\u50cf. Defaults to True.\n        method (str, optional): \u7279\u5f81\u70b9\u8ba1\u7b97\u65b9\u6cd5. Defaults to 'SIFT'.\n        region (list, optional): \u7279\u5f81\u70b9\u8ba1\u7b97\u8303\u56f4[x_min, y_min, x_max, y_max]. Defaults to None.\n        scale (int, optional): \u56fe\u50cf\u7f29\u653e. Defaults to '1'. \u5206\u8fa8\u7387\u8f83\u5927\u65f6,\u8ba1\u7b97\u6548\u7387\u4e0e\u8fd9\u4e2a\u6210\u6b63\u6bd4\n\n    Raises:\n        ValueError: \"Invalid feature detection method\"\n\n    Returns:\n        \u7279\u5f81\u70b9 (keypoints): \n        \u63cf\u8ff0\u503c (descriptors): \n    \"\"\"\n    # \u8f6c\u6362\u4e3a\u7070\u5ea6\u56fe\u50cf\n    if grayscale:\n        if len(img.shape) == 3:\n            img = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\n\n    # \u9009\u62e9\u7279\u5f81\u8ba1\u7b97\u65b9\u6cd5\n    if method == \"SIFT\":\n        feature_detector = cv2.SIFT_create()\n    elif method == \"ORB\":\n        feature_detector = cv2.ORB_create()\n    else:\n        raise ValueError(\"Invalid feature detection method\")\n\n    x_min, y_min, x_max, y_max = region or (0, 0, img.shape[1], img.shape[0])\n    img = img[y_min:y_max, x_min:x_max]\n    img_new = cv2.resize(img, None, fx=scale, fy=scale)\n    keypoints = feature_detector.detect(img_new)\n\n    # \u8c03\u6574\u5173\u952e\u70b9\u5750\u6807\n    for kp in keypoints:\n        kp.pt = ((kp.pt[0]) * (1 / scale), (kp.pt[1]) * (1 / scale))\n\n    _, descriptors = feature_detector.compute(img, keypoints)\n    # img = cv2.drawKeypoints(img,keypoints,img)\n    # Images.save(f\"{random.randint(8,100)}.png\",img)\n    # \u8fd4\u56de\u7279\u5f81\u4fe1\u606f\n    return keypoints, descriptors\n</code></pre>"},{"location":"images/#minidevice.images.Images.find_all_color","title":"<code>find_all_color(img, color, region=None, threshold=4)</code>","text":"<p>find_all_color \u627e\u5230\u5168\u56fe\u4e2d\u6240\u6709\u7b26\u5408\u8981\u6c42\u7684\u50cf\u7d20\u70b9</p> <p>Parameters:</p> Name Type Description Default <code>img</code> <code>mat</code> <p>opencv\u683c\u5f0f\u56fe\u50cf</p> required <code>color</code> <code>str</code> <p>\u989c\u8272\u503c\u5b57\u7b26\u4e32</p> required <code>region</code> <code>list</code> <p>[xmin,ymin,xmax,ymax]. Defaults to None.</p> <code>None</code> <code>threshold</code> <code>int</code> <p>\u989c\u8272\u76f8\u4f3c\u5ea6. Defaults to 4.</p> <code>4</code> <p>Returns:</p> Name Type Description <code>\u989c\u8272\u503c\u6240\u6709\u70b9</code> <code>list</code> <p>[(x,y),(x,y),(x,y)]</p> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\images.py</code> <pre><code>def find_all_color(img, color, region=None, threshold=4):\n\"\"\"\n    find_all_color \u627e\u5230\u5168\u56fe\u4e2d\u6240\u6709\u7b26\u5408\u8981\u6c42\u7684\u50cf\u7d20\u70b9\n\n    Args:\n        img (mat): opencv\u683c\u5f0f\u56fe\u50cf\n        color (str): \u989c\u8272\u503c\u5b57\u7b26\u4e32\n        region (list, optional): [xmin,ymin,xmax,ymax]. Defaults to None.\n        threshold (int, optional): \u989c\u8272\u76f8\u4f3c\u5ea6. Defaults to 4.\n\n    Returns:\n        \u989c\u8272\u503c\u6240\u6709\u70b9 (list): [(x,y),(x,y),(x,y)]\n    \"\"\"\n    x_min, y_min, x_max, y_max = region or (0, 0, img.shape[1], img.shape[0])\n    img = img[y_min:y_max, x_min:x_max]\n    # \u5c06\u989c\u8272\u503c\u8f6c\u6362\u4e3a RGB \u5206\u91cf\u503c\n    r, g, b = np.array([int(color[i : i + 2], 16) for i in (1, 3, 5)])\n    # \u8ba1\u7b97\u989c\u8272\u5dee\n    diff = np.abs(img - [b, g, r])\n    # \u5224\u65ad\u989c\u8272\u662f\u5426\u5339\u914d\n    match = np.logical_and.reduce(diff &lt;= threshold, axis=2)\n    # \u83b7\u53d6\u5339\u914d\u50cf\u7d20\u70b9\u7684\u5750\u6807\n    y, x = np.where(match)\n    return (\n        None\n        if len(x) == 0\n        else [(x[i] + x_min, y[i] + y_min) for i in range(len(x))]\n    )\n</code></pre>"},{"location":"images/#minidevice.images.Images.find_color","title":"<code>find_color(img, color, region=None, threshold=4)</code>","text":"<p>find_color \u627e\u8272\u529f\u80fd</p> <p>Parameters:</p> Name Type Description Default <code>img</code> <code>mat</code> <p>opencv\u683c\u5f0f\u56fe\u50cf</p> required <code>color</code> <code>str</code> <p>\u989c\u8272\u503c\u5b57\u7b26\u4e32</p> required <code>region</code> <code>list</code> <p>[xmin,ymin,xmax,ymax]. Defaults to None.</p> <code>None</code> <code>threshold</code> <code>int</code> <p>\u989c\u8272\u76f8\u4f3c\u5ea6. Defaults to 4.</p> <code>4</code> <p>Returns:</p> Name Type Description <code>x</code> <code>int</code> <code>y</code> <code>int</code> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\images.py</code> <pre><code>def find_color(img, color, region=None, threshold=4):\n\"\"\"\n    find_color \u627e\u8272\u529f\u80fd\n\n    Args:\n        img (mat): opencv\u683c\u5f0f\u56fe\u50cf\n        color (str): \u989c\u8272\u503c\u5b57\u7b26\u4e32\n        region (list, optional): [xmin,ymin,xmax,ymax]. Defaults to None.\n        threshold (int, optional): \u989c\u8272\u76f8\u4f3c\u5ea6. Defaults to 4.\n\n    Returns:\n        x (int): \n        y (int): \n    \"\"\"\n    x_min, y_min, x_max, y_max = region or (0, 0, img.shape[1], img.shape[0])\n    img = img[y_min:y_max, x_min:x_max]\n    # \u5c06\u989c\u8272\u503c\u8f6c\u6362\u4e3a RGB \u5206\u91cf\u503c\n    r, g, b = np.array([int(color[i : i + 2], 16) for i in (1, 3, 5)])\n    # \u8ba1\u7b97\u989c\u8272\u5dee\n    diff = np.abs(img - [b, g, r])\n    # \u5224\u65ad\u989c\u8272\u662f\u5426\u5339\u914d\n    match = np.logical_and.reduce(diff &lt;= threshold, axis=2)\n    # \u83b7\u53d6\u5339\u914d\u50cf\u7d20\u70b9\u7684\u5750\u6807\n    y, x = np.where(match)\n    return None if len(x) == 0 else x[0] + x_min, y[0] + y_min\n</code></pre>"},{"location":"images/#minidevice.images.Images.find_image","title":"<code>find_image(img, template, threshold=0.8, region=None, level=3, debug=False)</code>","text":"<p>find_image \u6a21\u677f\u5339\u914d</p> <p>Parameters:</p> Name Type Description Default <code>img</code> <code>mat</code> <p>opencv\u683c\u5f0f\u56fe\u50cf</p> required <code>template</code> <code>mat</code> <p>opencv\u683c\u5f0f\u56fe\u50cf</p> required <code>threshold</code> <code>float</code> <p>\u5339\u914d\u5ea6. Defaults to 0.8.</p> <code>0.8</code> <code>region</code> <code>list</code> <p>\u8303\u56f4[xmin,ymin,xmax,ymax]. Defaults to None. \u50cf\u7d20\u6570\u91cf\u4e0e\u67e5\u627e\u6548\u7387\u51e0\u4e4e\u6210\u6b63\u6bd4</p> <code>None</code> <code>level</code> <code>int</code> <p>\u56fe\u50cf\u91d1\u5b57\u5854\u7b49\u7ea7. Defaults to 3. \u5168\u5c4f1080x2400\u67e5\u627e\u60c5\u51b5\u4e0blevel3\u6548\u7387\u662flevel2\u76845\u500d,\u662flevel1\u768410\u500d,\u5206\u8fa8\u7387\u8d8a\u4f4e\u63d0\u5347\u8d8a\u4e0d\u660e\u663e</p> <code>3</code> <code>debug</code> <code>bool, optional</code> <p>\u8c03\u8bd5\u6a21\u5f0f(\u65b9\u6846\u7ed8\u5236\u5e76\u663e\u793a) Defaults to False.</p> <code>False</code> <p>Returns:</p> Name Type Description <code>max_loc</code> <code>list</code> <p>xmin,ymin,xmax,ymax</p> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\images.py</code> <pre><code>def find_image(img, template, threshold=0.8, region=None, level=3, debug=False):\n\"\"\"\n    find_image \u6a21\u677f\u5339\u914d\n\n    Args:\n        img (mat): opencv\u683c\u5f0f\u56fe\u50cf\n        template (mat): opencv\u683c\u5f0f\u56fe\u50cf\n        threshold (float, optional): \u5339\u914d\u5ea6. Defaults to 0.8.\n        region (list, optional): \u8303\u56f4[xmin,ymin,xmax,ymax]. Defaults to None. \u50cf\u7d20\u6570\u91cf\u4e0e\u67e5\u627e\u6548\u7387\u51e0\u4e4e\u6210\u6b63\u6bd4\n        level (int, optional): \u56fe\u50cf\u91d1\u5b57\u5854\u7b49\u7ea7. Defaults to 3. \u5168\u5c4f1080x2400\u67e5\u627e\u60c5\u51b5\u4e0blevel3\u6548\u7387\u662flevel2\u76845\u500d,\u662flevel1\u768410\u500d,\u5206\u8fa8\u7387\u8d8a\u4f4e\u63d0\u5347\u8d8a\u4e0d\u660e\u663e\n        debug (bool,optional): \u8c03\u8bd5\u6a21\u5f0f(\u65b9\u6846\u7ed8\u5236\u5e76\u663e\u793a) Defaults to False.\n    Returns:\n        max_loc (list): xmin,ymin,xmax,ymax\n    \"\"\"\n    # \u8bbe\u7f6e\u67e5\u627e\u533a\u57df\n    x_min, y_min, x_max, y_max = region or (0, 0, img.shape[1], img.shape[0])\n    img = img[y_min:y_max, x_min:x_max]\n\n    img_array = [img]\n    template_array = [template]\n\n    for i in range(1, level):\n        img = cv2.pyrDown(img)\n        template = cv2.pyrDown(template)\n        img_array.append(img)\n        template_array.append(template)\n\n    for i, img_level, template_level in list(\n        zip(range(level), img_array, template_array)\n    )[::-1]:\n        # \u5339\u914d\u6a21\u677f\u56fe\u50cf\n        res = cv2.matchTemplate(img_level, template_level, cv2.TM_CCOEFF_NORMED)\n        # \u9009\u62e9\u76f8\u4f3c\u5ea6\u6700\u9ad8\u7684\u4e00\u4e2a\u7ed3\u679c\n        min_val, max_val, min_loc, max_loc = cv2.minMaxLoc(res)\n        if max_val &gt; threshold:\n            # \u8f6c\u6362\u5750\u6807\u7cfb\n            max_loc = (max_loc[0] * (2**i), max_loc[1] * (2**i))\n            if region is not None:\n                max_loc = (max_loc[0] + x_min, max_loc[1] + y_min)\n            if debug:\n                copy = img_array[0].copy()\n                cv2.rectangle(\n                    copy,\n                    [\n                        max_loc[0],\n                        max_loc[1],\n                        template_array[0].shape[1],\n                        template_array[0].shape[0],\n                    ],\n                    (0, 255, 0),\n                    2,\n                )\n                Images.save(copy)\n            return [\n                max_loc[0],\n                max_loc[1],\n                max_loc[0] + template_array[0].shape[1],\n                max_loc[1] + template_array[0].shape[0],\n            ]\n    return None\n</code></pre>"},{"location":"images/#minidevice.images.Images.find_multi_colors","title":"<code>find_multi_colors(img, first_color, colors, region=None, threshold=4)</code>","text":"<p>find_multi_colors \u591a\u70b9\u627e\u8272</p> <p>Parameters:</p> Name Type Description Default <code>img</code> <code>mat</code> <p>opencv\u683c\u5f0f\u56fe\u50cf</p> required <code>first_color</code> <code>str</code> <p>\u7b2c\u4e00\u4e2a\u56fe\u50cf\u7684\u989c\u8272\u503c</p> required <code>colors</code> <code>list</code> <p>[(x,y,color),(x,y,color)] x\u4e3a\u76f8\u5bf9\u7b2c\u4e00\u4e2a\u70b9\u504f\u79fb\u7684\u5750\u6807\u503c,color\u4e3a\u989c\u8272\u503c\"#112233\"</p> required <code>region</code> <code>list</code> <p>\u8303\u56f4\u6570\u7ec4[xmin,ymin,xmax,ymax]. Defaults to None.</p> <code>None</code> <code>threshold</code> <code>int</code> <p>\u76f8\u4f3c\u5ea6. Defaults to 4.</p> <code>4</code> <p>Returns:</p> Name Type Description <code>x</code> <code>int</code> <p>\u7b2c\u4e00\u4e2a\u70b9\u7684\u6a2a\u5750\u6807</p> <code>y</code> <code>int</code> <p>\u7b2c\u4e00\u4e2a\u70b9\u7684\u7eb5\u5750\u6807</p> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\images.py</code> <pre><code>def find_multi_colors(img, first_color, colors, region=None, threshold=4):\n\"\"\"\n    find_multi_colors \u591a\u70b9\u627e\u8272\n\n    Args:\n        img (mat): opencv\u683c\u5f0f\u56fe\u50cf\n        first_color (str): \u7b2c\u4e00\u4e2a\u56fe\u50cf\u7684\u989c\u8272\u503c\n        colors (list): [(x,y,color),(x,y,color)] x\u4e3a\u76f8\u5bf9\u7b2c\u4e00\u4e2a\u70b9\u504f\u79fb\u7684\u5750\u6807\u503c,color\u4e3a\u989c\u8272\u503c\"#112233\"\n        region (list, optional): \u8303\u56f4\u6570\u7ec4[xmin,ymin,xmax,ymax]. Defaults to None.\n        threshold (int, optional): \u76f8\u4f3c\u5ea6. Defaults to 4.\n\n    Returns:\n        x (int): \u7b2c\u4e00\u4e2a\u70b9\u7684\u6a2a\u5750\u6807\n        y (int): \u7b2c\u4e00\u4e2a\u70b9\u7684\u7eb5\u5750\u6807\n\n    \"\"\"\n    first_color_points = Images.find_all_color(\n        img, first_color, region=region, threshold=threshold\n    )\n    if first_color_points is None:\n        return None\n    for x0, y0 in first_color_points:\n        for x, y, target_color in colors:\n            if not Colors.is_similar(\n                Colors.parse_color(target_color),\n                Colors.parse_color(Images.pixel(img, x + x0, y + y0)),\n                threshold=threshold,\n            ):\n                break\n        return x0, y0\n    return None\n</code></pre>"},{"location":"images/#minidevice.images.Images.load","title":"<code>load(path)</code>","text":"<p>load \u52a0\u8f7d\u7f51\u7edc\u56fe\u7247</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>str</code> <p>\u56fe\u50cf\u8def\u5f84</p> required <p>Returns:</p> Name Type Description <code>opencv\u683c\u5f0f\u56fe\u50cf</code> <code>np.array</code> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\images.py</code> <pre><code>def load(path):\n\"\"\"\n    load \u52a0\u8f7d\u7f51\u7edc\u56fe\u7247\n\n    Args:\n        path (str): \u56fe\u50cf\u8def\u5f84\n\n    Returns:\n        opencv\u683c\u5f0f\u56fe\u50cf (np.array): \n    \"\"\"\n\n    # \u4e0b\u8f7d\u56fe\u7247\u6570\u636e\n    response = urllib.request.urlopen(path)\n    image_data = response.read()\n    return raw2opencv(image_data)\n</code></pre>"},{"location":"images/#minidevice.images.Images.match_features","title":"<code>match_features(img, template, region=None, threshold=0.75, method='FLANNBASED', scale=1, debug=False)</code>","text":"<p>match_features \u7279\u5f81\u5339\u914d (\u8ba1\u7b97\u5c0f\u56fe\u82b1\u8d39\u4e0d\u4e86\u591a\u5c11\u8d44\u6e90,\u91cd\u8981\u7684\u662f\u8ba1\u7b97\u5927\u56fe\u7279,\u6240\u4ee5\u8bf7\u52a1\u5fc5\u533a\u57df\u7279\u5f81\u8ba1\u7b97) \u7531\u4e8eorb\u6548\u679c\u4e0d\u5c3d\u4eba\u610f,\u53ea\u91c7\u7528sift\u8ba1\u7b97\u7279\u5f81 \u8ba1\u7b972400x1080\u7684\u5927\u56fe\u6d88\u80170.6s 500x1080\u7684\u56fe\u6d88\u80170.1s</p> <p>Parameters:</p> Name Type Description Default <code>img</code> <code>mat</code> <p>opencv\u683c\u5f0f\u56fe\u50cf \u5927\u56fe</p> required <code>template</code> <code>mat</code> <p>opencv\u683c\u5f0f\u56fe\u50cf \u5c0f\u56fe</p> required <code>region</code> <code>list</code> <p>\u5927\u56fe\u7279\u5f81\u8303\u56f4[x_min, y_min, x_max, y_max ]. Defaults to None.</p> <code>None</code> <code>threshold</code> <code>float</code> <p>\u76f8\u4f3c\u5ea6. Defaults to 0.75.</p> <code>0.75</code> <code>method</code> <code>str</code> <p>\u7279\u5f81\u5339\u914d\u7b97\u6cd5. Defaults to \"FLANNBASED\".\u5176\u4ed6\u53ef\u9009\"BRUTEFORCE\",\"BRUTEFORCE_L1\"</p> <code>'FLANNBASED'</code> <code>scale</code> <code>int</code> <p>\u56fe\u50cf\u7f29\u653e. Defaults to '1'. \u5206\u8fa8\u7387\u8f83\u5927\u65f6,\u8ba1\u7b97\u6548\u7387\u4e0e\u8fd9\u4e2a\u6210\u6b63\u6bd4</p> <code>1</code> <code>debug</code> <code>bool, optional</code> <p>\u8c03\u8bd5\u6a21\u5f0f(\u65b9\u6846\u7ed8\u5236\u5e76\u663e\u793a) Defaults to False.</p> <code>False</code> <p>Raises:</p> Type Description <code>ValueError</code> <p>\u7b97\u6cd5\u4e0d\u5b58\u5728</p> <p>Returns:</p> Name Type Description <code>\u5c0f\u56fe\u5728\u5927\u56fe\u4e2d\u7684\u8303\u56f4</code> <code>list</code> <p>[xmin,ymin,xmax,ymax]</p> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\images.py</code> <pre><code>def match_features(\n    img,\n    template,\n    region=None,\n    threshold=0.75,\n    method=\"FLANNBASED\",\n    scale=1,\n    debug=False,\n):\n\"\"\"\n    match_features \u7279\u5f81\u5339\u914d\n    (\u8ba1\u7b97\u5c0f\u56fe\u82b1\u8d39\u4e0d\u4e86\u591a\u5c11\u8d44\u6e90,\u91cd\u8981\u7684\u662f\u8ba1\u7b97\u5927\u56fe\u7279,\u6240\u4ee5\u8bf7\u52a1\u5fc5\u533a\u57df\u7279\u5f81\u8ba1\u7b97)\n    \u7531\u4e8eorb\u6548\u679c\u4e0d\u5c3d\u4eba\u610f,\u53ea\u91c7\u7528sift\u8ba1\u7b97\u7279\u5f81\n    \u8ba1\u7b972400x1080\u7684\u5927\u56fe\u6d88\u80170.6s 500x1080\u7684\u56fe\u6d88\u80170.1s\n\n    Args:\n        img (mat): opencv\u683c\u5f0f\u56fe\u50cf \u5927\u56fe\n        template (mat): opencv\u683c\u5f0f\u56fe\u50cf \u5c0f\u56fe\n        region (list, optional): \u5927\u56fe\u7279\u5f81\u8303\u56f4[x_min, y_min, x_max, y_max ]. Defaults to None.\n        threshold (float, optional): \u76f8\u4f3c\u5ea6. Defaults to 0.75.\n        method (str, optional): \u7279\u5f81\u5339\u914d\u7b97\u6cd5. Defaults to \"FLANNBASED\".\u5176\u4ed6\u53ef\u9009\"BRUTEFORCE\",\"BRUTEFORCE_L1\"\n        scale (int, optional): \u56fe\u50cf\u7f29\u653e. Defaults to '1'. \u5206\u8fa8\u7387\u8f83\u5927\u65f6,\u8ba1\u7b97\u6548\u7387\u4e0e\u8fd9\u4e2a\u6210\u6b63\u6bd4\n        debug (bool,optional): \u8c03\u8bd5\u6a21\u5f0f(\u65b9\u6846\u7ed8\u5236\u5e76\u663e\u793a) Defaults to False.\n\n    Raises:\n        ValueError: \u7b97\u6cd5\u4e0d\u5b58\u5728\n\n    Returns:\n        \u5c0f\u56fe\u5728\u5927\u56fe\u4e2d\u7684\u8303\u56f4 (list): [xmin,ymin,xmax,ymax]\n    \"\"\"\n    # \u8ba1\u7b97\u5173\u952e\u70b9\u548c\u63cf\u8ff0\u7b26\n    kp_template, des_template = Images.detect_and_compute_features(\n        template, scale=scale\n    )\n    kp_target, des_target = Images.detect_and_compute_features(\n        img, region=region, scale=scale\n    )\n\n    if method == \"FLANNBASED\":\n        matcher = cv2.FlannBasedMatcher()\n    elif method == \"BRUTEFORCE_L1\":\n        matcher = cv2.BFMatcher(cv2.NORM_L1)\n    elif method == \"BRUTEFORCE\":\n        matcher = cv2.BFMatcher(cv2.NORM_L2)\n    else:\n        raise ValueError(\"Invalid matching method provided.\")\n\n    matches = matcher.knnMatch(des_template, des_target, k=2)\n\n    # \u5e94\u7528Lowe\u7684\u6bd4\u4f8b\u6d4b\u8bd5\n    good_matches = []\n    for m, n in matches:\n        if m.distance &lt; threshold * n.distance:\n            good_matches.append(m)\n\n    # \u5982\u679c\u627e\u5230\u8db3\u591f\u7684\u597d\u5339\u914d\uff0c\u5219\u8ba1\u7b97\u5355\u5e94\u6027\u77e9\u9635\n    if len(good_matches) &gt; 10:\n        src_pts = np.float32(\n            [kp_template[m.queryIdx].pt for m in good_matches]\n        ).reshape(-1, 1, 2)\n        dst_pts = np.float32(\n            [kp_target[m.trainIdx].pt for m in good_matches]\n        ).reshape(-1, 1, 2)\n\n        # \u8ba1\u7b97\u5355\u5e94\u6027\u77e9\u9635\n        M, mask = cv2.findHomography(src_pts, dst_pts, cv2.RANSAC, 5.0)\n\n        # \u5c06\u6a21\u677f\u56fe\u50cf\u7684\u89d2\u70b9\u6620\u5c04\u5230\u76ee\u6807\u56fe\u50cf\u4e2d\u7684\u76f8\u5e94\u4f4d\u7f6e\n        h, w = template.shape[:2]\n        pts = np.float32([[0, 0], [0, h - 1], [w - 1, h - 1], [w - 1, 0]]).reshape(\n            -1, 1, 2\n        )\n        dst = cv2.perspectiveTransform(pts, M)\n\n        x_min, y_min, _, _ = region or (0, 0, img.shape[1], img.shape[0])\n        # \u8ba1\u7b97\u77e9\u5f62\u533a\u57df\u5750\u6807\n        x, y, w, h = cv2.boundingRect(dst)\n        if debug:\n            copy = img.copy()\n            cv2.rectangle(copy, [x + x_min, y + y_min, w, h], (0, 255, 0), 2)\n            Images.save(copy)\n        return [x + x_min, y + y_min, w + x + x_min, h + y + y_min]\n\n    else:\n        print(\"Not enough matches are found - {}/{}\".format(len(good_matches), 10))\n        return None\n</code></pre>"},{"location":"images/#minidevice.images.Images.pixel","title":"<code>pixel(img, x, y)</code>","text":"<p>pixel \u8fd4\u56de\u56fe\u7247image\u5728\u70b9(x, y)\u5904\u7684\u50cf\u7d20\u7684RGB\u503c\u3002</p> <p>Parameters:</p> Name Type Description Default <code>img</code> <code>Mat</code> <p>opencv\u56fe\u50cf</p> required <code>x</code> <code>int</code> <p>\u6a2a\u5750\u6807</p> required <code>y</code> <code>int</code> <p>\u7eb5\u5750\u6807</p> required <p>Returns:</p> Name Type Description <code>\u5750\u6807\u989c\u8272\u503c</code> <code>str</code> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\images.py</code> <pre><code>def pixel(img, x, y):\n\"\"\"\n    pixel \u8fd4\u56de\u56fe\u7247image\u5728\u70b9(x, y)\u5904\u7684\u50cf\u7d20\u7684RGB\u503c\u3002\n\n    Args:\n        img (Mat): opencv\u56fe\u50cf\n        x (int): \u6a2a\u5750\u6807\n        y (int): \u7eb5\u5750\u6807\n\n    Returns:\n        \u5750\u6807\u989c\u8272\u503c (str): \n    \"\"\"\n    b, g, r = img[y, x]\n    return \"#{:02x}{:02x}{:02x}\".format(r, g, b)\n</code></pre>"},{"location":"images/#minidevice.images.Images.read","title":"<code>read(path, flag=cv2.IMREAD_COLOR)</code>","text":"<p>read \u8bfb\u53d6\u56fe\u50cf</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>str</code> <p>\u56fe\u50cf\u8def\u5f84</p> required <code>flag</code> <code>int) </code> <ul> <li>cv2.IMREAD_COLOR (\u9ed8\u8ba4)</li> <li>cv2.IMREAD_GRAYSCALE</li> </ul> <code>cv2.IMREAD_COLOR</code> <p>Returns:</p> Name Type Description <code>opencv\u683c\u5f0f\u56fe\u50cf</code> <code>np.array</code> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\images.py</code> <pre><code>def read(path, flag=cv2.IMREAD_COLOR):\n\"\"\"\n    read \u8bfb\u53d6\u56fe\u50cf\n\n    Args:\n        path (str): \u56fe\u50cf\u8def\u5f84\n        flag (int) :\n            - cv2.IMREAD_COLOR (\u9ed8\u8ba4)\n            - cv2.IMREAD_GRAYSCALE\n\n    Returns:\n        opencv\u683c\u5f0f\u56fe\u50cf (np.array): \n    \"\"\"\n    return cv2.imread(path, flags=flag)\n</code></pre>"},{"location":"images/#minidevice.images.Images.save","title":"<code>save(img, path='save.png')</code>","text":"<p>save \u4fdd\u5b58\u56fe\u50cf\u5230\u8def\u5f84</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>str</code> <p>\u8def\u5f84</p> <code>'save.png'</code> <code>img</code> <code>mat</code> <p>opencv\u683c\u5f0f\u56fe\u50cf \u9ed8\u8ba4\u4fdd\u5b58\u5230\u5f53\u524d\u8def\u5f84\u4e0bsave.png</p> required Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\images.py</code> <pre><code>def save(img, path=\"save.png\"):\n\"\"\"\n    save \u4fdd\u5b58\u56fe\u50cf\u5230\u8def\u5f84\n\n    Args:\n        path (str): \u8def\u5f84\n        img (mat): opencv\u683c\u5f0f\u56fe\u50cf \u9ed8\u8ba4\u4fdd\u5b58\u5230\u5f53\u524d\u8def\u5f84\u4e0bsave.png\n    \"\"\"\n    cv2.imwrite(path, img)\n</code></pre>"},{"location":"images/#minidevice.images.Images.show","title":"<code>show(img, title='')</code>","text":"<p>show \u663e\u793a\u56fe\u50cf</p> <p>Parameters:</p> Name Type Description Default <code>img</code> <code>mat</code> <p>opencv\u683c\u5f0f\u56fe\u50cf</p> required <code>title</code> <code>str</code> <p>\u663e\u793a\u7684\u6807\u9898. Defaults to \"\".</p> <code>''</code> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\images.py</code> <pre><code>def show(img, title=\"\"):\n\"\"\"\n    show \u663e\u793a\u56fe\u50cf\n\n    Args:\n        img (mat): opencv\u683c\u5f0f\u56fe\u50cf\n        title (str, optional): \u663e\u793a\u7684\u6807\u9898. Defaults to \"\".\n    \"\"\"\n    cv2.imshow(title, img)\n    cv2.waitKey()\n</code></pre>"},{"location":"images/#minidevice.images.raw2opencv","title":"<code>raw2opencv(raw)</code>","text":"<p>raw to opencv</p> <p>Parameters:</p> Name Type Description Default <code>raw</code> <code>byte</code> <p>raw</p> required <p>Returns:</p> Name Type Description <code>opencv\u683c\u5f0f\u56fe\u50cf</code> <code>np.array</code> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\images.py</code> <pre><code>def raw2opencv(raw):\n\"\"\"raw to opencv\n\n    Args:\n        raw (byte): raw\n\n    Returns:\n        opencv\u683c\u5f0f\u56fe\u50cf (np.array): \n    \"\"\"\n    return cv2.imdecode(np.frombuffer(raw, dtype=np.uint8), cv2.IMREAD_COLOR)\n</code></pre>"},{"location":"screencap/","title":"screencap","text":""},{"location":"screencap/#minidevice.screencap.ScreenCap","title":"<code>ScreenCap</code>","text":"<p>         Bases: <code>ABC</code></p> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\screencap.py</code> <pre><code>class ScreenCap(ABC):\n    @abstractmethod\n    def screencap_raw(self) -&gt; bytes:\n\"\"\"\u622a\u56fe\u6e90\u6570\u636e\"\"\"\n\n    def screencap_opencv(self):\n\"\"\"opencv\u683c\u5f0f\u622a\u56fe\"\"\"\n        raw = self.screencap_raw()\n        return cv2.imdecode(np.frombuffer(raw, dtype=np.uint8), cv2.IMREAD_COLOR)\n\n    def save_screencap(self, filename=\"screencap.png\"):\n\"\"\"\n        save_screencap \u4fdd\u5b58\u622a\u56fe\n\n        Args:\n            filename (str, optional): \u622a\u56fe\u4fdd\u5b58\u8def\u5f84. Defaults to \"screencap.png\".\n        \"\"\"\n        cv2.imwrite(filename, self.screencap_opencv())\n</code></pre>"},{"location":"screencap/#minidevice.screencap.ScreenCap.save_screencap","title":"<code>save_screencap(filename='screencap.png')</code>","text":"<p>save_screencap \u4fdd\u5b58\u622a\u56fe</p> <p>Parameters:</p> Name Type Description Default <code>filename</code> <code>str</code> <p>\u622a\u56fe\u4fdd\u5b58\u8def\u5f84. Defaults to \"screencap.png\".</p> <code>'screencap.png'</code> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\screencap.py</code> <pre><code>def save_screencap(self, filename=\"screencap.png\"):\n\"\"\"\n    save_screencap \u4fdd\u5b58\u622a\u56fe\n\n    Args:\n        filename (str, optional): \u622a\u56fe\u4fdd\u5b58\u8def\u5f84. Defaults to \"screencap.png\".\n    \"\"\"\n    cv2.imwrite(filename, self.screencap_opencv())\n</code></pre>"},{"location":"screencap/#minidevice.screencap.ScreenCap.screencap_opencv","title":"<code>screencap_opencv()</code>","text":"<p>opencv\u683c\u5f0f\u622a\u56fe</p> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\screencap.py</code> <pre><code>def screencap_opencv(self):\n\"\"\"opencv\u683c\u5f0f\u622a\u56fe\"\"\"\n    raw = self.screencap_raw()\n    return cv2.imdecode(np.frombuffer(raw, dtype=np.uint8), cv2.IMREAD_COLOR)\n</code></pre>"},{"location":"screencap/#minidevice.screencap.ScreenCap.screencap_raw","title":"<code>screencap_raw()</code>  <code>abstractmethod</code>","text":"<p>\u622a\u56fe\u6e90\u6570\u636e</p> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\screencap.py</code> <pre><code>@abstractmethod\ndef screencap_raw(self) -&gt; bytes:\n\"\"\"\u622a\u56fe\u6e90\u6570\u636e\"\"\"\n</code></pre>"},{"location":"touch/","title":"touch","text":""},{"location":"touch/#minidevice.touch.Touch","title":"<code>Touch</code>","text":"<p>         Bases: <code>ABC</code></p> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\touch.py</code> <pre><code>class Touch(ABC):\n    @abstractclassmethod\n    def click(self, x: int, y: int, duration: int):\n\"\"\"\u70b9\u51fb\"\"\"\n\n    @abstractclassmethod\n    def swipe(self, points: list, duration: int):\n\"\"\"\u6ed1\u52a8\"\"\"\n</code></pre>"},{"location":"touch/#minidevice.touch.Touch.click","title":"<code>click(x, y, duration)</code>","text":"<p>\u70b9\u51fb</p> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\touch.py</code> <pre><code>@abstractclassmethod\ndef click(self, x: int, y: int, duration: int):\n\"\"\"\u70b9\u51fb\"\"\"\n</code></pre>"},{"location":"touch/#minidevice.touch.Touch.swipe","title":"<code>swipe(points, duration)</code>","text":"<p>\u6ed1\u52a8</p> Source code in <code>C:\\Users\\alex\\Desktop\\Code\\Python\\minidevice\\minidevice\\touch.py</code> <pre><code>@abstractclassmethod\ndef swipe(self, points: list, duration: int):\n\"\"\"\u6ed1\u52a8\"\"\"\n</code></pre>"}]}